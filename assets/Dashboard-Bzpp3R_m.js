import{R as l,D as B,u as k,a as q,r as x,j as o,G as w,B as L,h as C,F as j,L as E,b as I,c as D,d as y,e as A,f as N,g as O,i as _,s as R}from"./index-BLvTVYQK.js";var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P=l.createContext&&l.createContext(z),U=["attr","size","title"];function G(t,e){if(t==null)return{};var r=T(t,e),a,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function T(t,e){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;r[a]=t[a]}return r}function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},m.apply(this,arguments)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,a)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(a){V(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function V(t,e,r){return e=Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t){var e=F(t,"string");return typeof e=="symbol"?e:e+""}function F(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M(t){return t&&t.map((e,r)=>l.createElement(e.tag,f({key:r},e.attr),M(e.child)))}function h(t){return e=>l.createElement(H,m({attr:f({},t.attr)},e),M(t.child))}function H(t){var e=r=>{var{attr:a,size:s,title:n}=t,d=G(t,U),u=s||r.size||"1em",i;return r.className&&(i=r.className),t.className&&(i=(i?i+" ":"")+t.className),l.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,d,{className:i,style:f(f({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),n&&l.createElement("title",null,n),t.children)};return P!==void 0?l.createElement(P.Consumer,null,r=>e(r)):e(z)}function W(t){return h({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}function K(t){return h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"},child:[]},{tag:"path",attr:{d:"M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]}]})(t)}function $(t){return h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"},child:[]},{tag:"path",attr:{d:"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"},child:[]},{tag:"path",attr:{d:"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function J(t){return h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},child:[]},{tag:"path",attr:{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},child:[]}]})(t)}function Q(t){return h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"},child:[]},{tag:"path",attr:{d:"M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0"},child:[]}]})(t)}const X=()=>{const{requestDynamicComponent:t}=l.useContext(B),e=k(c=>c.slice.sideBarDisplay),r=q(),[a,s]=x.useState(),n=[{name:"Meetings",dispatch:"ViewMeetings",Icon:K},{name:"Sharable Link",dispatch:"SharableLink",Icon:J},{name:"TimeZone",dispatch:"TimeZone",Icon:$}],d={width:["100%","100%","100%","23%"],backgroundColor:"white",height:"100vh",boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:[e,e,e,"grid","grid"],position:["absolute","absolute","absolute","static"]},u={paddingLeft:"10px",border:"none",backgroundColor:"white",height:"8vh",borderRadius:"6px",fontFamily:"sans-serif",fontSize:"17px",width:"91%",alignItems:"center",margin:"auto",gap:"20px"};function i(c){a&&(a.style.backgroundColor="white",a.style.color="black"),c.target.style.backgroundColor="whitesmoke",c.target.style.color="RGB(0, 96, 230)"}return o.jsxs(w,{sx:d,zIndex:[2e3,2e3,2e3,0],children:[o.jsxs(L,{gap:2,margin:"auto",h:"8vh",color:"white",mt:[20,20,20,10],borderRadius:20,bg:"RGB(0, 96, 230)",w:"90%",border:"none",onClick:()=>{t({type:"CreateAvailability"}),r(C())},children:[o.jsx(W,{}),"Create Availability Slot"]}),o.jsx(w,{h:"auto",mt:["-20%","-20%","-10%","-50%"],children:n.map(({name:c,dispatch:p,Icon:v},b)=>o.jsxs(j,{sx:u,color:"black",onClick:g=>{t({type:p}),s(g.target),i(g),r(C())},children:[o.jsx(v,{}),c]},b))}),o.jsxs(j,{sx:u,children:[o.jsx(Q,{}),o.jsx(E,{style:{textDecoration:"none"},to:"/privacy&policy",children:"Privacy Policy & Security"})]})]})},Y=()=>{const{Component:t}=l.useContext(B);return o.jsx(I,{w:["100%","100%","100%","80%"],children:o.jsx(t,{})})},et=()=>{const t="https://connect-one-one-uniconn-1.onrender.com/api/v1/getUserInfo",e=D(),r=new URLSearchParams(e.search),a=q(),s=k(i=>i.slice.AuthenticationState),n=r.get("token"),d=()=>{const i=localStorage.getItem("token");i?u(i):a(y())},u=async i=>{a(A());try{N.get(t,{headers:{Authorization:`Bearer ${i}`}}).then(({data:c})=>{const{name:p,email:v,sharable_link:b,timeZone:g}=c;a(O()),a(_()),a(R({name:p,email:v,sharableLink:b,timeZone:g}))}).catch(c=>{a(O()),a(y())})}catch{a(y())}};return x.useEffect(()=>{n||d()},[n]),x.useEffect(()=>{(n!=null||n!=null)&&(localStorage.setItem("token",n),u(n))},[n]),s!=!1?o.jsxs(j,{gap:10,children:[o.jsx(X,{}),o.jsx(Y,{})]}):null};export{et as default};
